{% extends "base.html" %}

{% block title %}{{ site.id }}{% endblock %}

{% block css %}
 <link rel="stylesheet" type="text/css" href="/static/css/site.css">
{% endblock %}

{% block h1 %}<h1>Zinc Site: {{ site.id }}</h1>{% endblock %}
{% block main %}

<div id="site">
    <div class="row">
        <div class="half-width left">
            <div id="ngl-container">
              <iframe scrolling="no" src="/ngl/{{site.id}}/"></iframe>
            </div>
        </div><div class="half-width right">
          .
        </div>
    </div>
</div>

<div id="site-pdb">
  <h2>PDB</h2>
  <div class="row">
    <div class="half-width">
      <table>
        <tr><td>PDB Code</td><td><a href="http://www.rcsb.org/pdb/explore.do?structureId={{ site.pdb.id }}" target="_blank">{{ site.pdb.id }}</td></tr>
        <tr><td>Deposition Date</td><td>{{ site.pdb.deposited|date:"j F, Y" }}</td></tr>
        <tr><td>Title</td><td>{{ site.pdb.title }}</td></tr>
        <tr><td>Technique</td><td>{{ site.pdb.technique }}</td></tr>
        <tr><td>Resolution</td><td>{{ site.pdb.resolution }}</td></tr>
        <tr><td>Rfactor</td><td>{{ site.pdb.rfactor }}</td></tr>
        <tr><td>Classification</td><td>{{ site.pdb.classification }}</td></tr>
        <tr><td>Source Organism</td><td>
          <em><script>document.write(formatSpecies("{{ site.pdb.organism }}"));</script></em>
        </td></tr>
        <tr><td>Expression System</td><td>
          <em><script>document.write(formatSpecies("{{ site.pdb.expression }}"));</script></em>
        </td></tr>
      </table>
    </div><div class="half-width">
      <table>
        <tr>
          <th>Other Sites in this PDB</th>
        </tr>
      </table>
      <table>
        <tr>
          <th>Other Sites from this Organism</th>
        </tr>
      </table>
    </div>
  </div>
</div>

<div id="site-residues">
    <h2>Residues</h2>
    {% for residue in site.residues.all %}
    <div class="residue">
      <table>
        <tr><td>Chain</td><td>{{ residue.chain }}</td></tr>
        <tr><td>ID</td><td>{{ residue.residue_id }}</td></tr>
        <tr><td>Name</td><td>{{ residue.name }}</td></tr>
      </table>
    </div>
    {% endfor %}
</div>
{% endblock %}
